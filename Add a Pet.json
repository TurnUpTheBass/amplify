{"id":29989,"name":"Add a Pet","userId":19850,"accountId":17356,"createdDate":"2019-09-20T04:55:59Z","steps":[{"id":224185,"onSuccess":["createSlackMessage"],"onFailure":[],"name":"AddPet","type":"elementRequest","properties":{"body":"${steps.createPetAddBody}","api":"/pet","method":"POST","elementInstanceId":"${config.destination}"}},{"id":224186,"onSuccess":["AddPet"],"onFailure":[],"name":"createPetAddBody","type":"script","properties":{"body":"const body = \r{\r  category: {\r    name: \"animals\"\r  },\r  name: steps.getPetName,\r  status: \"barking\"\r}\rdone(body);"}},{"id":224191,"onSuccess":["sendSlackMessage"],"onFailure":[],"name":"createSlackMessage","type":"script","properties":{"body":"const message = {\r  \"text\" : \"Congratulations! \" + steps.getPetName + \" has been added!\"\r};\rdone(message);"}},{"id":224190,"onSuccess":["LogEvent"],"onFailure":[],"name":"getPetName","type":"script","properties":{"body":"const slackmessage = trigger.body.message.raw.text;\nconst petname = slackmessage.substring(11);\ndone(petname);"}},{"id":224187,"onSuccess":["createPetAddBody"],"onFailure":[],"name":"LogEvent","type":"script","properties":{"body":"console.log('======= Begin trigger =====');\nconsole.log(trigger);\nconsole.log('======= End trigger =====');\n\ndone();"}},{"id":224188,"onSuccess":[],"onFailure":[],"name":"logInCaseOfError","type":"script","properties":{"body":"console.log('======= trigger =====');\nconsole.log(trigger);\n\ndone();"}},{"id":224189,"onSuccess":[],"onFailure":[],"name":"logSomething","type":"script","properties":{"body":"console.log('======= trigger =====');\nconsole.log(trigger);\n\ndone();"}},{"id":224192,"onSuccess":[],"onFailure":[],"name":"sendSlackMessage","type":"elementRequest","properties":{"body":"${steps.createSlackMessage}","api":"/channels/${config.channel}/messages","method":"POST","elementInstanceId":"${config.messaging}"}}],"triggers":[{"id":26520,"onSuccess":["getPetName"],"onFailure":[],"type":"event","async":true,"name":"trigger","properties":{"elementInstanceId":"${config.source}"}}],"engine":"v3","active":true,"debugLoggingEnabled":false,"singleThreaded":false,"configuration":[{"id":54593,"key":"channel","name":"channel","type":"value","required":true},{"id":54589,"key":"destination","name":"destination","type":"elementInstance","required":true},{"id":54592,"key":"messaging","name":"messaging","type":"elementInstance","required":true},{"id":54590,"key":"source","name":"source","type":"elementInstance","required":true}]}